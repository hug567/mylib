## 1、链接脚本：

- 链接脚本目的：描述如何将输入文件中的各个部分映射到输出文件中，并控制输出文件的内存布局；

- 功能：将一个或多个输入文件，合并为一个输出目标文件；

- 目标文件(输入文件)：目标文件有一个段(segment)列表，每个段都有名称和大小；
  - 输入节：输入文件中的一个节，每个节都有一个名称和大小；
- 输出文件：链接后生成的输出文件(可执行文件等)；
  - 输出节：输出文件中的一个节；
- 节内容：有的节有节内容，若节被标记为可加载，则运行时会被加载到内存；
  - 无节内容：有的节没有节内容，但可能是可分配的，如.bss节，加载时需在内存中预留空间；
    - 可加载或可分配的节，有对应的VMA和LMA，通常二者相等；
  - 其他节：一个及不可加载，也不可分配的节，可能包含某些调试信息；
  
- 符号表：目标文件还有一个符号表，可以是已定义的符号或者未定义的符号，每个符号都有名称、地址，以及其他信息；

- 链接脚本：一个链接脚本时一系列命令，每个命令都是一个关键字，其后跟参数或符号，使用分号分割；

- 注释：与c一致，/* 注释 */；

## 2、链接命令：

SECTIONS：描述输出文件内存布局，如：

```c
SECTIONS
{
  . = 0x10000;                  /* 点：位置计数器，代码段从0x10000开始 */
  .text : { *(.text) }          /* 输出段为.text，放在此处输出段的输入段为所有文件的.text节 */
  . = 0x8000000;                /* 数据段从0x80000000开始 */
  .data : { *(.data) }          /* 输出段为.data，放在此数输出段的输入段为.data */
  .bss : { *(.bss) }            /* 输出段为.bss，放在此数输出段的输入段为.bss */
}
 
ENTRY(symbol)                   /* 入口点，程序执行的第一条指令 */
INCLUDE <file>                  /* 在命令处包含链接脚本file */
KEEP(*(init))                   /* 即使没有符号也保留指定部分，确保指定的符合或节在链接过程中不丢失 */
KEEP(*(SORT(___kentry+*)))
.ALIGN(4)                       /* 当前位置4字节对齐 */
__code_start = .                /* 用__code_start记录当前位置，可在代码中使用 */
```

