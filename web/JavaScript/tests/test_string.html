<!--
  练习：JavaScript字符串
  时间：2023-10-05
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>[js] test_string</title>
</head>

<body>
  <!--JavaScript脚本---------------------------------------------------------->
  <script>
    //字符串基本操作
    function test_base() {
      document.write("test_base: --------------------------------" + "<br>");

      var str1 = "Hello world!";
      //字符串长度
      var len = str1.length;
      document.write("str1 len: " + len + "<br>");

      //判断字符是否为空
      if (str1 != "") {
        document.write("str1 is not empty<br>");
      }
      str2 = ""
      if (str2 == "") {
        document.write("str2 is empty<br>");
      }
    }

    //字符串连接
    function test_connect() {
      document.write("test_connect: ---------------------------" + "<br>");
      var str1 = "hello";
      var str2 = "world";
      var str3 = str1 + " " + str2;
      document.write("str1 + str2 = [" + str3 + "]<br>");
    }

    //字符串转数字
    function test_str2num() {
      document.write("test_str2num: ---------------------------" + "<br>");

      //整形
      var strInt = "1234";
      var numInt = parseInt(strInt) + 1;
      document.write("typeof(numInt): " + typeof (numInt) + "<br>");
      document.write("strInt: " + strInt + ", numInt + 1 = " + numInt + "<br>");

      //浮点型
      var strFloat = "567.8900";
      var numFloat = parseFloat(strFloat) + 2.1;
      document.write("typeof(numFloat): " + typeof (numFloat) + "<br>");
      document.write("strFlot: " + strFloat + ", numFloat: " + numFloat + ", numFloat + 2.1 = " + numFloat + "<br>");
    }

    //数字转字符串：.toString()
    function test_num2str() {
      document.write("test_num2str: ---------------------------" + "<br>");

      var num = 123;
      var str = num.toString();
      document.write("typeof(str): " + typeof (str) + "<br>");
      document.write("str: " + str + "<br>");
    }

    //判断字符串是否相等
    function test_str_equal() {
      document.write("test_equal: -----------------------------" + "<br>");

      var str = 'hello';
      //判断字符串是否相等
      if (str === 'hello') {
        document.write("str equal to hello<br>");
      }
      //判断字符串是否不等
      if (str !== 'world') {
        document.write("str not equal to world<br>");
      }
    }

    //字符串替换
    function test_str_replace() {
      document.write("test_str_replace: ----------------------------" + "<br>");

      //将字符串中的单引号替换为双引号
      var str = "{\'name\' : \'Tom\'}";
      //replaceAll()：对所有匹配的字符串都进行替换
      var str_new = str.replaceAll("\'", "\"");
      document.write("str: [" + str + "]<br>");
      document.write("str_new: [" + str_new + "]<br>");
    }

    //字符串查找
    function test_str_find() {
      document.write("test_str_find: -------------------------------" + "<br>");

      var str01 = "hello world";
      var str01head = "he";
      var str01tail = 'rld';
      //字符串是否已指定字符串开头
      // if (str01.indexOf(str01head) == 0) {
      if (str01.startsWith(str01head)) {
        document.write(str01head + " is on (" + str01 + ")'s head<br>");
      }
      if (str01.endsWith(str01tail)) {
        document.write(str01tail + " is on (" + str01 + ")'s tail<br>");
      }
    }

    function main() {
      test_base();
      test_connect();
      test_str2num();
      test_num2str();
      test_str_equal();
      test_str_replace();
      test_str_find();
    }

    main();
  </script>
  <!-------------------------------------------------------------------------->
</body>

</html>